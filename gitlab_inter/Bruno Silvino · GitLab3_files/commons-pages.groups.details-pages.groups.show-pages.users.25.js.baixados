(this.webpackJsonp=this.webpackJsonp||[]).push([[78],{"+8HN":function(t,e,n){"use strict";n.d(e,"b",(function(){return bt})),n.d(e,"c",(function(){return c})),n.d(e,"f",(function(){return wt})),n.d(e,"g",(function(){return y})),n.d(e,"h",(function(){return Ot})),n.d(e,"i",(function(){return a})),n.d(e,"j",(function(){return i})),n.d(e,"a",(function(){return xt})),n.d(e,"k",(function(){return gt})),n.d(e,"l",(function(){return jt})),n.d(e,"m",(function(){return mt})),n.d(e,"n",(function(){return u})),n.d(e,"o",(function(){return d})),n.d(e,"p",(function(){return q})),n.d(e,"q",(function(){return Dt})),n.d(e,"r",(function(){return kt})),n.d(e,"s",(function(){return C})),n.d(e,"e",(function(){return it})),n.d(e,"d",(function(){return ut}));var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.hasOwnProperty(e)?{space:i[e],local:t}:t};function s(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===r&&e.documentElement.namespaceURI===r?e.createElement(t):e.createElementNS(n,t)}}function o(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var c=function(t){var e=a(t);return(e.local?o:s)(e)};function l(){}var u=function(t){return null==t?l:function(){return this.querySelector(t)}};function h(){return[]}var d=function(t){return null==t?h:function(){return this.querySelectorAll(t)}},f=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var p=document.documentElement;if(!p.matches){var v=p.webkitMatchesSelector||p.msMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector;f=function(t){return function(){return v.call(this,t)}}}}var y=f,m=function(t){return new Array(t.length)};function g(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}g.prototype={constructor:g,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var b="$";function _(t,e,n,r,i,a){for(var s,o=0,c=e.length,l=a.length;o<l;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new g(t,a[o]);for(;o<c;++o)(s=e[o])&&(i[o]=s)}function w(t,e,n,r,i,a,s){var o,c,l,u={},h=e.length,d=a.length,f=new Array(h);for(o=0;o<h;++o)(c=e[o])&&(f[o]=l=b+s.call(c,c.__data__,o,e),l in u?i[o]=c:u[l]=c);for(o=0;o<d;++o)(c=u[l=b+s.call(t,a[o],o,a)])?(r[o]=c,c.__data__=a[o],u[l]=null):n[o]=new g(t,a[o]);for(o=0;o<h;++o)(c=e[o])&&u[f[o]]===c&&(i[o]=c)}function S(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function A(t){return function(){this.removeAttribute(t)}}function x(t){return function(){this.removeAttributeNS(t.space,t.local)}}function O(t,e){return function(){this.setAttribute(t,e)}}function j(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function D(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function k(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var C=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function E(t){return function(){this.style.removeProperty(t)}}function T(t,e,n){return function(){this.style.setProperty(t,e,n)}}function P(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function q(t,e){return t.style.getPropertyValue(e)||C(t).getComputedStyle(t,null).getPropertyValue(e)}function L(t){return function(){delete this[t]}}function M(t,e){return function(){this[t]=e}}function z(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function N(t){return t.trim().split(/^|\s+/)}function $(t){return t.classList||new R(t)}function R(t){this._node=t,this._names=N(t.getAttribute("class")||"")}function W(t,e){for(var n=$(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function B(t,e){for(var n=$(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function F(t){return function(){W(this,t)}}function V(t){return function(){B(this,t)}}function Y(t,e){return function(){(e.apply(this,arguments)?W:B)(this,t)}}R.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function H(){this.textContent=""}function J(t){return function(){this.textContent=t}}function I(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function X(){this.innerHTML=""}function G(t){return function(){this.innerHTML=t}}function U(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function K(){this.nextSibling&&this.parentNode.appendChild(this)}function Q(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Z(){return null}function tt(){var t=this.parentNode;t&&t.removeChild(this)}function et(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function nt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var rt={},it=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(rt={mouseenter:"mouseover",mouseleave:"mouseout"}));function at(t,e,n){return t=st(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function st(t,e,n){return function(r){var i=it;it=r;try{t.call(this,this.__data__,e,n)}finally{it=i}}}function ot(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function ct(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function lt(t,e,n){var r=rt.hasOwnProperty(t.type)?at:st;return function(i,a,s){var o,c=this.__on,l=r(e,a,s);if(c)for(var u=0,h=c.length;u<h;++u)if((o=c[u]).type===t.type&&o.name===t.name)return this.removeEventListener(o.type,o.listener,o.capture),this.addEventListener(o.type,o.listener=l,o.capture=n),void(o.value=e);this.addEventListener(t.type,l,n),o={type:t.type,name:t.name,value:e,listener:l,capture:n},c?c.push(o):this.__on=[o]}}function ut(t,e,n,r){var i=it;t.sourceEvent=it,it=t;try{return e.apply(n,r)}finally{it=i}}function ht(t,e,n){var r=C(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function dt(t,e){return function(){return ht(this,t,e)}}function ft(t,e){return function(){return ht(this,t,e.apply(this,arguments))}}var pt=[null];function vt(t,e){this._groups=t,this._parents=e}function yt(){return new vt([[document.documentElement]],pt)}vt.prototype=yt.prototype={constructor:vt,select:function(t){"function"!=typeof t&&(t=u(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,s,o=e[i],c=o.length,l=r[i]=new Array(c),h=0;h<c;++h)(a=o[h])&&(s=t.call(a,a.__data__,h,o))&&("__data__"in a&&(s.__data__=a.__data__),l[h]=s);return new vt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=d(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var s,o=e[a],c=o.length,l=0;l<c;++l)(s=o[l])&&(r.push(t.call(s,s.__data__,l,o)),i.push(s));return new vt(r,i)},filter:function(t){"function"!=typeof t&&(t=y(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,s=e[i],o=s.length,c=r[i]=[],l=0;l<o;++l)(a=s[l])&&t.call(a,a.__data__,l,s)&&c.push(a);return new vt(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),u=-1,this.each((function(t){p[++u]=t})),p;var n,r=e?w:_,i=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=a.length,o=new Array(s),c=new Array(s),l=new Array(s),u=0;u<s;++u){var h=i[u],d=a[u],f=d.length,p=t.call(h,h&&h.__data__,u,i),v=p.length,y=c[u]=new Array(v),m=o[u]=new Array(v);r(h,d,y,m,l[u]=new Array(f),p,e);for(var g,b,S=0,A=0;S<v;++S)if(g=y[S]){for(S>=A&&(A=S+1);!(b=m[A])&&++A<v;);g._next=b||null}}return(o=new vt(o,i))._enter=c,o._exit=l,o},enter:function(){return new vt(this._enter||this._groups.map(m),this._parents)},exit:function(){return new vt(this._exit||this._groups.map(m),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var c,l=e[o],u=n[o],h=l.length,d=s[o]=new Array(h),f=0;f<h;++f)(c=l[f]||u[f])&&(d[f]=c);for(;o<r;++o)s[o]=e[o];return new vt(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,s=i[a];--a>=0;)(r=i[a])&&(s&&s!==r.nextSibling&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=S);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s,o=n[a],c=o.length,l=i[a]=new Array(c),u=0;u<c;++u)(s=o[u])&&(l[u]=s);l.sort(e)}return new vt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],s=0,o=a.length;s<o;++s)(i=a[s])&&t.call(i,i.__data__,s,a);return this},attr:function(t,e){var n=a(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?x:A:"function"==typeof e?n.local?k:D:n.local?j:O)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?E:"function"==typeof e?P:T)(t,e,null==n?"":n)):q(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?L:"function"==typeof e?z:M)(t,e)):this.node()[t]},classed:function(t,e){var n=N(t+"");if(arguments.length<2){for(var r=$(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Y:e?F:V)(n,e))},text:function(t){return arguments.length?this.each(null==t?H:("function"==typeof t?I:J)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?X:("function"==typeof t?U:G)(t)):this.node().innerHTML},raise:function(){return this.each(K)},lower:function(){return this.each(Q)},append:function(t){var e="function"==typeof t?t:c(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:c(t),r=null==e?Z:"function"==typeof e?e:u(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(tt)},clone:function(t){return this.select(t?nt:et)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=ot(t+""),s=a.length;if(!(arguments.length<2)){for(o=e?lt:ct,null==n&&(n=!1),r=0;r<s;++r)this.each(o(a[r],e,n));return this}var o=this.node().__on;if(o)for(var c,l=0,u=o.length;l<u;++l)for(r=0,c=o[l];r<s;++r)if((i=a[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?ft:dt)(t,e))}};var mt=yt,gt=function(t){return"string"==typeof t?new vt([[document.querySelector(t)]],[document.documentElement]):new vt([[t]],pt)},bt=function(t){return gt(c(t).call(document.documentElement))},_t=0;function wt(){return new St}function St(){this._="@"+(++_t).toString(36)}St.prototype=wt.prototype={constructor:St,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var At=function(){for(var t,e=it;t=e.sourceEvent;)e=t;return e},xt=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},Ot=function(t){var e=At();return e.changedTouches&&(e=e.changedTouches[0]),xt(t,e)},jt=function(t){return"string"==typeof t?new vt([document.querySelectorAll(t)],[document.documentElement]):new vt([null==t?[]:t],pt)},Dt=function(t,e,n){arguments.length<3&&(n=e,e=At().changedTouches);for(var r,i=0,a=e?e.length:0;i<a;++i)if((r=e[i]).identifier===n)return xt(t,r);return null},kt=function(t,e){null==e&&(e=At().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=xt(t,e[n]);return i}},Cx6f:function(t,e,n){(function(t){var e;(e=t).fn.endlessScroll=function(t){t=e.extend({},{bottomPixels:50,fireOnce:!0,loader:"<br />Loading...<br />",data:"",insertAfter:"div:last",resetCounter:function(){return!1},callback:function(){return!0},ceaseFire:function(){return!1}},t);var n,r=!0,i=!1,a=0;!0===t.ceaseFire.apply(this)&&(r=!1),!0===r&&e(this).scroll((function(){if(!0!==t.ceaseFire.apply(this)){if(this==document||this==window)n=e(document).height()-e(window).height()<=e(window).scrollTop()+t.bottomPixels;else{var s=e(".endless_scroll_inner_wrap",this);0==s.length&&(s=e(this).wrapInner('<div class="endless_scroll_inner_wrap" />').find(".endless_scroll_inner_wrap")),n=s.length>0&&s.height()-e(this).height()<=e(this).scrollTop()+t.bottomPixels}n&&(0==t.fireOnce||1==t.fireOnce&&1!=i)&&(!0===t.resetCounter.apply(this)&&(a=0),i=!0,a++,e(t.insertAfter).after('<div id="endless_scroll_loader">'+t.loader+"</div>"),data="function"==typeof t.data?t.data.apply(this,[a]):t.data,!1!==data&&(e(t.insertAfter).after("<div>"+data+"</div>"),t.callback.apply(this,[a]),i=!1),e("#endless_scroll_loader").remove())}else r=!1}))}}).call(this,n("EmJ/"))},FB7y:function(t,e,n){"use strict";var r=n("EmJ/"),i=n.n(r),a=(n("Cx6f"),n("2ibD")),s=n("3twG");e.a={init({limit:t=0,preload:e=!1,disable:n=!1,prepareData:r=i.a.noop,successCallback:a=i.a.noop,errorCallback:o=i.a.noop,container:c=""}={}){this.limit=t,this.offset=parseInt(Object(s.g)("offset"),10)||this.limit,this.disable=n,this.prepareData=r,this.successCallback=a,this.errorCallback=o,this.loading=i()(`${c} .loading`).first(),e&&(this.offset=0,this.getOld()),this.initLoadMore()},getOld(){var t=this;this.loading.show();const e=i()(".content_list").data("href")||Object(s.z)(["limit","offset"]);a.a.get(e,{params:{limit:this.limit,offset:this.offset}}).then((function({data:e}){t.append(e.count,t.prepareData(e.html)),t.successCallback(),t.disable||t.isScrollable()?t.loading.hide():t.getOld()})).catch((function(e){return t.errorCallback(e)})).finally((function(){return t.loading.hide()}))},append(t,e){i()(".content_list").append(e),t>0?(this.offset+=t,t<this.limit&&(this.disable=!0)):this.disable=!0},isScrollable(){const t=i()(window);return i()(document).height()>t.height()+t.scrollTop()+400},initLoadMore(){var t=this;i()(document).off("scroll"),i()(document).endlessScroll({bottomPixels:400,fireDelay:1e3,fireOnce:!0,ceaseFire:function(){return!0===t.disable},callback:function(){t.loading.is(":visible")||(t.loading.show(),t.getOld())}})}}},Gs6c:function(t,e,n){"use strict";var r=n("2ibD"),i=n("z/4y");e.a=new class extends i.a{constructor(){super(),this.pendingRequests={}}override(t,e){this.internalStorage[t]=e}retrieve(t,e){var n=this;if(this.hasData(t)&&!e)return Promise.resolve(this.get(t));let i=this.pendingRequests[t];return i||(i=r.a.get(t).then((function({data:e}){n.internalStorage[t]=e,delete n.pendingRequests[t]})).catch((function(e){const r=new Error(`${t}: ${e.message}`);throw r.textStatus=e.message,delete n.pendingRequests[t],r})),this.pendingRequests[t]=i),i.then((function(){return n.get(t)}))}}},XSeh:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("EmJ/"),i=n.n(r),a=n("06tH"),s=n.n(a),o=n("XRO8"),c=n("/lV4"),l=n("bOix"),u=n("FB7y");class h{constructor(t=""){var e=this;this.containerSelector=t,this.containerEl=this.containerSelector?document.querySelector(this.containerSelector):void 0,this.$contentList=i()(".content_list"),this.loadActivities(),i()(".event-filter-link").on("click",(function(t){t.preventDefault(),e.toggleFilter(t.currentTarget),e.reloadActivities()}))}loadActivities(){var t=this;u.a.init({limit:20,preload:!0,prepareData:function(t){return t},successCallback:function(){return t.updateTooltips()},errorCallback:function(){return Object(o.b)({message:Object(c.f)("Activity|An error occured while retrieving activity. Reload the page to try again."),parent:t.containerEl})},container:this.containerSelector})}updateTooltips(){Object(l.x)(document.querySelectorAll(".content_list .js-timeago"))}reloadActivities(){this.$contentList.html(""),this.loadActivities()}toggleFilter(t){const e=i()(t),n=e.attr("id").split("_")[0];i()(".event-filter .active").removeClass("active"),s.a.set("event_filter",n),e.closest("li").toggleClass("active")}}},gAdM:function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},umie:function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));n("S26F");var r=n("eVUo"),i=n("EmJ/"),a=n.n(i),s=n("XSeh"),o=n("Gs6c"),c=n("2ibD"),l=n("bOix"),u=n("/lV4"),h=n("gAdM"),d=n.n(h),f=n("+8HN"),p=n("a+C/"),v=n.n(p),y=n("XRO8");const m={select:f.k},g=Object.freeze({sunday:0,monday:1,saturday:6}),b=[{title:Object(u.a)("No contributions"),min:0},{title:Object(u.a)("1-9 contributions"),min:1},{title:Object(u.a)("10-19 contributions"),min:10},{title:Object(u.a)("20-29 contributions"),min:20},{title:Object(u.a)("30+ contributions"),min:30}],_='\n  <div class="text-center">\n    <div class="spinner spinner-md"></div>\n  </div>\n';const w=function(t){if(t<=0)return 0;const e=b.findIndex((function({min:e}){return t<e}));return e>=0?e-1:b.length-1};class S{constructor(t,e,n,r,i=0,a=g.sunday,s=12){this.calendarActivitiesPath=r,this.clickDay=this.clickDay.bind(this),this.currentSelectedDate="",this.daySpace=1,this.daySize=15,this.daySizeWithSpace=this.daySize+2*this.daySpace,this.monthNames=[Object(u.a)("Jan"),Object(u.a)("Feb"),Object(u.a)("Mar"),Object(u.a)("Apr"),Object(u.a)("May"),Object(u.a)("Jun"),Object(u.a)("Jul"),Object(u.a)("Aug"),Object(u.a)("Sep"),Object(u.a)("Oct"),Object(u.a)("Nov"),Object(u.a)("Dec")],this.months=[],this.firstDayOfWeek=a,this.activitiesContainer=e,this.container=t,this.timestampsTmp=[];let o=0;const c=function(t){const e=new Date,n=0-e.getTimezoneOffset(),r=t/60;return e.setMinutes(e.getMinutes()-n+r),e}(i);c.setHours(0,0,0,0,0);const h=new Date(c);h.setMonth(c.getMonth()-s);const d=Object(l.n)(h,c);for(let t=0;t<=d;t+=1){const e=new Date(h);e.setDate(e.getDate()+t);const r=e.getDay(),i=n[v()(e,"yyyy-mm-dd")]||0;(r===this.firstDayOfWeek&&0!==t||0===t)&&(this.timestampsTmp.push([]),o+=1),this.timestampsTmp[o-1].push({count:i,date:e,day:r})}this.svg=this.renderSvg(t,o),this.renderDays(),this.renderMonths(),this.renderDayTitles(),this.renderKey()}getExtraWidthPadding(t){let e=0;return this.timestampsTmp[t-1][0].date.getMonth()!==this.timestampsTmp[t-2][0].date.getMonth()&&(e=6),e}renderSvg(t,e){const n=(e+1)*this.daySizeWithSpace+this.getExtraWidthPadding(e);return m.select(t).append("svg").attr("width",n).attr("height",167).attr("class","contrib-calendar")}dayYPos(t){return this.daySizeWithSpace*((t+7-this.firstDayOfWeek)%7)}renderDays(){var t=this;this.svg.selectAll("g").data(this.timestampsTmp).enter().append("g").attr("transform",(function(e,n){return e.forEach((function(e,r){if(0===r&&e.day===t.firstDayOfWeek){const r=e.date.getMonth(),i=t.daySizeWithSpace*n+1+t.daySizeWithSpace,a=d()(t.months);(null==a||r!==a.month&&i-t.daySizeWithSpace!==a.x)&&t.months.push({month:r,x:i})}})),`translate(${t.daySizeWithSpace*n+1+t.daySizeWithSpace}, 18)`})).selectAll("rect").data((function(t){return t})).enter().append("rect").attr("x","0").attr("y",(function(e){return t.dayYPos(e.day)})).attr("width",this.daySize).attr("height",this.daySize).attr("data-level",(function(t){return w(t.count)})).attr("title",(function(t){return function({date:t,count:e}){const n=new Date(t),r=Object(l.o)(n),i=v()(n,"mmm d, yyyy");let a=Object(u.a)("No contributions");return e>0&&(a=Object(u.e)("%d contribution","%d contributions",e)),`${a}<br /><span class="gl-text-gray-300">${r} ${i}</span>`}(t)})).attr("class","user-contrib-cell has-tooltip").attr("data-html",!0).attr("data-container","body").on("click",this.clickDay)}renderDayTitles(){const t=[{text:Object(u.f)("DayTitle|M"),y:29+this.dayYPos(1)},{text:Object(u.f)("DayTitle|W"),y:29+this.dayYPos(3)},{text:Object(u.f)("DayTitle|F"),y:29+this.dayYPos(5)}];this.firstDayOfWeek===g.monday?t.push({text:Object(u.f)("DayTitle|S"),y:29+this.dayYPos(7)}):this.firstDayOfWeek===g.saturday&&t.push({text:Object(u.f)("DayTitle|S"),y:29+this.dayYPos(6)}),this.svg.append("g").selectAll("text").data(t).enter().append("text").attr("text-anchor","middle").attr("x",8).attr("y",(function(t){return t.y})).text((function(t){return t.text})).attr("class","user-contrib-text")}renderMonths(){var t=this;this.svg.append("g").attr("direction","ltr").selectAll("text").data(this.months).enter().append("text").attr("x",(function(t){return t.x})).attr("y",10).attr("class","user-contrib-text").text((function(e){return t.monthNames[e.month]}))}renderKey(){var t=this;this.svg.append("g").attr("transform",`translate(18, ${8*this.daySizeWithSpace+16})`).selectAll("rect").data(b).enter().append("rect").attr("width",this.daySize).attr("height",this.daySize).attr("x",(function(e,n){return t.daySizeWithSpace*n})).attr("y",0).attr("data-level",(function(t,e){return e})).attr("class","user-contrib-cell has-tooltip contrib-legend").attr("title",(function(t){return t.title})).attr("data-container","body").attr("data-html",!0)}clickDay(t){var e=this;if(this.currentSelectedDate!==t.date){this.currentSelectedDate=t.date;const n=[this.currentSelectedDate.getFullYear(),this.currentSelectedDate.getMonth()+1,this.currentSelectedDate.getDate()].join("-");a()(this.activitiesContainer).html(_),c.a.get(this.calendarActivitiesPath,{params:{date:n},responseType:"text"}).then((function({data:t}){return a()(e.activitiesContainer).html(t)})).catch((function(){return Object(y.b)({message:Object(u.a)("An error occurred while retrieving calendar activity")})}))}else this.currentSelectedDate="",a()(this.activitiesContainer).html("")}}const A=20;class x{constructor(t={}){this.container=t.container,this.url=t.url,this.requestParams={limit:A,...t.requestParams},this.postRenderCallback=t.postRenderCallback,this.loadData()}loadData(){var t=this;const e=document.querySelector(this.container).querySelector(".loading");e.classList.remove("hide"),c.a.get(this.url,{params:this.requestParams}).then((function({data:e}){return t.render(e)})).catch((function(){return e.classList.add("hide")}))}render(t){const{html:e,count:n}=t,r=document.querySelector(this.container);r.querySelector(".overview-content-list").innerHTML+=e;const i=r.querySelector(".loading");if(n&&n>0)r.querySelector(".js-view-all").classList.remove("hide");else{const t=r.querySelector(".nothing-here-block");t&&t.classList.add("p-5")}i.classList.add("hide"),this.postRenderCallback&&this.postRenderCallback.call(this)}}const O='\n  <div class="calendar">\n    <div class="js-contrib-calendar"></div>\n    <div class="calendar-hint"></div>\n  </div>\n',j=6,D=12,k=918;class C{constructor({defaultAction:t,action:e,parentEl:n}){var r=this;this.loaded={},this.defaultAction=t||"overview",this.action=e||this.defaultAction,this.$parentEl=a()(n)||a()(document),this.windowLocation=window.location,this.$parentEl.find(".nav-links a").each((function(t,e){r.loaded[a()(e).attr("data-action")]=!1})),this.actions=Object.keys(this.loaded),this.bindEvents(),"show"===this.action&&(this.action=this.defaultAction),this.activateTab(this.action)}bindEvents(){var t=this;this.$parentEl.off("shown.bs.tab",'.nav-links a[data-toggle="tab"]').on("shown.bs.tab",'.nav-links a[data-toggle="tab"]',(function(e){return t.tabShown(e)})).on("click",".gl-pagination a",(function(e){return t.changeProjectsPage(e)})),window.addEventListener("resize",(function(){return t.onResize()}))}onResize(){this.loadActivityCalendar()}changeProjectsPage(t){t.preventDefault(),a()(".tab-pane.active").empty();const e=a()(t.target).attr("href");this.loadTab(this.getCurrentAction(),e)}tabShown(t){const e=a()(t.target),n=e.data("action"),r=e.attr("href"),i=e.data("endpoint");return this.setTab(n,i),this.setCurrentAction(r)}activateTab(t){return this.$parentEl.find(`.nav-links .js-${t}-tab a`).tab("show")}setTab(t,e){if(this.loaded[t])return;"activity"===t?this.loadActivities():"overview"===t&&this.loadOverviewTab();["groups","contributed","projects","starred","snippets","followers","following"].indexOf(t)>-1&&this.loadTab(t,e)}loadTab(t,e){var n=this;this.toggleLoading(!0);const r="projects"===t?{skip_namespace:!0}:{};return c.a.get(e,{params:r}).then((function({data:e}){const r=`div#${t}`;n.$parentEl.find(r).html(e.html),n.loaded[t]=!0,Object(l.x)(document.querySelectorAll(`${r} .js-timeago`)),n.toggleLoading(!1)})).catch((function(){n.toggleLoading(!1)}))}loadActivities(){this.loaded.activity||(new s.a("#activity"),this.loaded.activity=!0)}loadOverviewTab(){this.loaded.overview||(this.loadActivityCalendar(),C.renderMostRecentBlocks("#js-overview .activities-block",{requestParams:{limit:10}}),C.renderMostRecentBlocks("#js-overview .projects-block",{requestParams:{limit:10,skip_pagination:!0,skip_namespace:!0,compact_mode:!0}}),this.loaded.overview=!0)}static renderMostRecentBlocks(t,e){new x({container:t,url:a()(`${t} .overview-content-list`).data("href"),...e,postRenderCallback:function(){return Object(l.x)(document.querySelectorAll(`${t} .js-timeago`))}})}loadActivityCalendar(){var t=this;const e=this.$parentEl.find(".tab-pane.active .user-calendar");if(!e.length||"xs"===r.b.getBreakpointSize())return;const n=e.data("calendarPath");o.a.retrieve(n).then((function(t){return C.renderActivityCalendar(t,e)})).catch((function(){const n=e[0];n.querySelector(".gl-spinner").classList.add("invisible"),n.querySelector(".user-calendar-error").classList.remove("invisible"),n.querySelector(".user-calendar-error .js-retry-load").addEventListener("click",(function(e){e.preventDefault(),n.querySelector(".user-calendar-error").classList.add("invisible"),n.querySelector(".gl-spinner").classList.remove("invisible"),t.loadActivityCalendar()}))}))}static renderActivityCalendar(t,e){const n=C.getVisibleCalendarPeriod(e),r=e.data("calendarActivitiesPath"),i=e.data("utcOffset"),a=Object(u.a)("Issues, merge requests, pushes, and comments.");e.html(O),e.find(".calendar-hint").text(a),new S(".tab-pane.active .js-contrib-calendar",".tab-pane.active .user-calendar-activities",t,r,i,gon.first_day_of_week,n)}toggleLoading(t){return this.$parentEl.find(".loading").toggleClass("hide",!t)}setCurrentAction(t){let e=t;return e=e.replace(/\/+$/,""),e+=this.windowLocation.search+this.windowLocation.hash,window.history.replaceState({url:e},document.title,e),e}getCurrentAction(){return this.$parentEl.find(".nav-links a.active").data("action")}static getVisibleCalendarPeriod(t){return t.width()<k?j:D}}}}]);
//# sourceMappingURL=commons-pages.groups.details-pages.groups.show-pages.users.257a1839.chunk.js.map